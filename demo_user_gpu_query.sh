#!/bin/bash

# GPU ä½¿ç”¨è€…æŸ¥è©¢ä½¿ç”¨ç¯„ä¾‹è…³æœ¬
# æœ¬è…³æœ¬ç¤ºç¯„å¦‚ä½•ä½¿ç”¨ get_user_gpu_usage.py æŸ¥è©¢ç‰¹å®šä½¿ç”¨è€…çš„ GPU ä½¿ç”¨æƒ…æ³

echo "ğŸ” GPU ä½¿ç”¨è€…æŸ¥è©¢åŠŸèƒ½ç¯„ä¾‹æ¼”ç¤º"
echo "=============================================="
echo

# 1. åˆ—å‡ºæŸæ—¥çš„æ‰€æœ‰ä½¿ç”¨è€…
echo "ğŸ“‹ 1. åˆ—å‡º 2025-07-22 çš„æ‰€æœ‰ GPU ä½¿ç”¨è€…ï¼š"
echo "--------------------------------------------"
python3 get_user_gpu_usage.py --list-users 2025-07-22
echo

# 2. æŸ¥è©¢ç‰¹å®šä½¿ç”¨è€…å–®æ—¥ä½¿ç”¨æƒ…æ³
echo "ğŸ” 2. æŸ¥è©¢ä½¿ç”¨è€… 'itrd' åœ¨ 2025-07-22 çš„ä½¿ç”¨æƒ…æ³ï¼š"
echo "------------------------------------------------"
python3 get_user_gpu_usage.py itrd 2025-07-22
echo

# 3. æŸ¥è©¢ç‰¹å®šä½¿ç”¨è€…å¤šæ—¥ä½¿ç”¨æƒ…æ³
echo "ğŸ“Š 3. æŸ¥è©¢ä½¿ç”¨è€… 'paslab_openai' å¤šæ—¥ä½¿ç”¨æƒ…æ³ï¼š"
echo "-----------------------------------------------"
python3 get_user_gpu_usage.py paslab_openai 2025-08-11 2025-08-15
echo

# 4. é¡¯ç¤ºå¯ç”¨çš„å‘½ä»¤æ ¼å¼
echo "ğŸ’¡ 4. å®Œæ•´å‘½ä»¤æ ¼å¼èªªæ˜ï¼š"
echo "------------------------"
echo "# æŸ¥è©¢ç‰¹å®šä½¿ç”¨è€…å–®æ—¥ä½¿ç”¨æƒ…æ³"
echo "python3 get_user_gpu_usage.py <ä½¿ç”¨è€…åç¨±> <æ—¥æœŸ>"
echo "ç¯„ä¾‹: python3 get_user_gpu_usage.py paslab_openai 2025-09-15"
echo
echo "# æŸ¥è©¢ç‰¹å®šä½¿ç”¨è€…å¤šæ—¥ä½¿ç”¨æƒ…æ³"
echo "python3 get_user_gpu_usage.py <ä½¿ç”¨è€…åç¨±> <é–‹å§‹æ—¥æœŸ> <çµæŸæ—¥æœŸ>"
echo "ç¯„ä¾‹: python3 get_user_gpu_usage.py paslab_openai 2025-08-10 2025-08-15"
echo
echo "# åˆ—å‡ºæŒ‡å®šæ—¥æœŸçš„æ‰€æœ‰ä½¿ç”¨è€…"
echo "python3 get_user_gpu_usage.py --list-users <æ—¥æœŸ>"
echo "ç¯„ä¾‹: python3 get_user_gpu_usage.py --list-users 2025-09-15"
echo

# 5. æœå°‹åŒ…å«ç‰¹å®šä½¿ç”¨è€…çš„æ‰€æœ‰æ—¥æœŸ
echo "ğŸ” 5. é¡å¤–æŠ€å·§ï¼šæœå°‹åŒ…å«ç‰¹å®šä½¿ç”¨è€…çš„æ‰€æœ‰æ—¥æœŸ"
echo "----------------------------------------------"
echo "æœå°‹ 'paslab_openai' çš„ä½¿ç”¨è¨˜éŒ„ï¼š"
echo "grep -r 'paslab_openai' data/*/*/average_*.csv | cut -d/ -f3 | sort -u"
echo
echo "å¯¦éš›åŸ·è¡Œï¼š"
grep -r 'paslab_openai' data/*/*/average_*.csv | cut -d/ -f3 | sort -u | head -10
echo

echo "âœ¨ æŸ¥è©¢å®Œæˆï¼æ‚¨å¯ä»¥ä½¿ç”¨ä¸Šè¿°å‘½ä»¤æ ¼å¼æŸ¥è©¢ä»»ä½•ä½¿ç”¨è€…çš„ GPU ä½¿ç”¨æƒ…æ³ã€‚"